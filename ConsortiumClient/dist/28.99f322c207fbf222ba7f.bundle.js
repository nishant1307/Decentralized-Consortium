(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{2059:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t.n(n),l=t(0),i=t.n(l),c=(t(38),t(1)),o=t.n(c),s=t(23),u=t.n(s),m=t(281),N=t(352),f=t.n(N),_=t(1802),b=t(28),d=t.n(b),p=t(44),E=t.n(p),h=t(98),g=t.n(h),v=t(1795),w=t(1797),C=t(1792),j=t(1800),y=t(1798),k=t(1801),S=t(86),x=t(35),T="/Users/mac/Desktop/projects/Consortium/ConsortiumClient/src/views/ColleagueForm.js",O=function(e){var a=Object(l.useState)(""),t=r()(a,2),n=t[0],c=t[1];return i.a.createElement("div",{__source:{fileName:T,lineNumber:57}},i.a.createElement(v.a,{className:"form-horizontal",__source:{fileName:T,lineNumber:58}},i.a.createElement(w.a,{row:!0,__source:{fileName:T,lineNumber:59}},i.a.createElement(C.a,{xs:"12",md:"9",__source:{fileName:T,lineNumber:60}},i.a.createElement(j.a,{type:"email",name:"email",value:n,onChange:function(e){var a=e.target,t=(a.name,a.value);c(t)},id:"text-input",placeholder:"Enter Colleague Email id",__source:{fileName:T,lineNumber:61}}),i.a.createElement(y.a,{color:"muted",__source:{fileName:T,lineNumber:62}},"Your colleague will be sent an invitation link on his mail.")),i.a.createElement(C.a,{md:"3",__source:{fileName:T,lineNumber:64}},i.a.createElement(k.a,{className:"primary",onClick:function(a){a.preventDefault();var t={to:S.a,data:S.b.methods.inviteUser(n).encodeABI()},r=sessionStorage.getItem("privateKey");t.gasLimit=2e6,x.a.eth.accounts.signTransaction(t,r).then(function(a){var t,r;x.a.eth.sendSignedTransaction(a.rawTransaction).on("confirmation",(r=E()(d.a.mark(function a(t,r){return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:1==t&&1==r.status&&g.a.post("https://www.iotconekt.com/api/dashboard/inviteColleague",{inviteEmail:n}).then(function(a){"Invitation sent successsfully"==a.data.status&&(c(""),e.onColleagueFormSubmit(a.data.status))}).catch(function(a){a.response&&e.onColleagueFormSubmit(a.response.data.message)});case 1:case"end":return a.stop()}},a)})),function(e,a){return r.apply(this,arguments)})).on("error",(t=E()(d.a.mark(function e(a){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log(a);case 1:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}))}).catch(function(e){console.log(e)})},__source:{fileName:T,lineNumber:65}},"Invite Colleague")))))},I=t(7),F=t(15),U=(t(387),t(47)),A=t(48),D=t(82),K=t(119),J=t(49),P=(t(382),t(195)),q=t(51),z="/Users/mac/Desktop/projects/Consortium/ConsortiumClient/src/views/People/People.jsx",B=function(e){var a=Object(l.useState)([]),t=r()(a,2),n=t[0],c=t[1],o=Object(l.useState)(!1),s=r()(o,2),u=s[0],N=s[1],b=Object(l.useState)(""),d=r()(b,2),p=d[0],E=d[1];Object(l.useEffect)(function(){S.b.methods.getAllUsers().call({from:e.auth.user.publicKey}).then(function(e){c(e)})},[]);var h=e.classes,g=[];return n.forEach(function(e){g.push(i.a.createElement(I.a,{xs:12,sm:6,md:3,__source:{fileName:z,lineNumber:61}},i.a.createElement(U.a,{__source:{fileName:z,lineNumber:62}},i.a.createElement(A.a,{color:"danger",stats:!0,icon:!0,__source:{fileName:z,lineNumber:63}},i.a.createElement(K.a,{color:"danger",__source:{fileName:z,lineNumber:64}},i.a.createElement(m.a,{__source:{fileName:z,lineNumber:65}},"apps")),i.a.createElement("p",{className:h.cardCategory,__source:{fileName:z,lineNumber:67}},e.publicKey),i.a.createElement("h4",{className:h.cardTitle,__source:{fileName:z,lineNumber:68}})),i.a.createElement(D.a,{__source:{fileName:z,lineNumber:70}},e.email),i.a.createElement(J.a,{stats:!0,__source:{fileName:z,lineNumber:73}},i.a.createElement("div",{className:h.stats,__source:{fileName:z,lineNumber:74}},i.a.createElement(f.a,{__source:{fileName:z,lineNumber:75}}),"Add to a consortium")))))}),i.a.createElement("div",{__source:{fileName:z,lineNumber:85}},i.a.createElement(F.a,{__source:{fileName:z,lineNumber:86}},g,i.a.createElement(I.a,{xs:12,sm:6,md:3,__source:{fileName:z,lineNumber:88}},"0"===e.user.user[5]&&i.a.createElement(U.a,{onClick:function(){N(!0)},__source:{fileName:z,lineNumber:89}},i.a.createElement(A.a,{color:"danger",stats:!0,icon:!0,__source:{fileName:z,lineNumber:90}},i.a.createElement(K.a,{color:"danger",__source:{fileName:z,lineNumber:91}},i.a.createElement(m.a,{__source:{fileName:z,lineNumber:92}},"add")),i.a.createElement("p",{className:h.cardCategory,__source:{fileName:z,lineNumber:94}}),i.a.createElement("h4",{className:h.cardTitle,__source:{fileName:z,lineNumber:95}},"Invite a colleague"))))),p,u&&i.a.createElement(O,{onColleagueFormSubmit:function(e){E(i.a.createElement(_.a,{__source:{fileName:z,lineNumber:47}},e)),setTimeout(function(){E("")}.bind(void 0),3e3)},__source:{fileName:z,lineNumber:101}}))};B.propTypes={classes:o.a.object.isRequired};a.default=Object(q.connect)(function(e){return{auth:e.auth,errors:e.errors,user:e.user}})(u()(P.a)(B))}}]);