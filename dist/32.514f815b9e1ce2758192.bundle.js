(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{2014:function(e,a,t){"use strict";t.r(a);var r=t(11),n=t.n(r),l=t(0),c=t.n(l),i=(t(37),t(1)),s=t.n(i),o=t(22),u=t.n(o),m=t(272),N=t(329),f=t.n(N),_=t(1674),b=t(17),d=t.n(b),p=t(33),E=t.n(p),h=t(61),g=t.n(h),v=t(1667),w=t(1669),C=t(1664),j=t(1672),y=t(1670),k=t(1673),S=t(49),x=t(31),T="/Users/mac/Desktop/projects/Consortium/src/views/ColleagueForm.js",O=function(e){var a=Object(l.useState)(""),t=n()(a,2),r=t[0],i=t[1];return c.a.createElement("div",{__source:{fileName:T,lineNumber:57}},c.a.createElement(v.a,{className:"form-horizontal",__source:{fileName:T,lineNumber:58}},c.a.createElement(w.a,{row:!0,__source:{fileName:T,lineNumber:59}},c.a.createElement(C.a,{xs:"12",md:"9",__source:{fileName:T,lineNumber:60}},c.a.createElement(j.a,{type:"email",name:"email",value:r,onChange:function(e){var a=e.target,t=(a.name,a.value);i(t)},id:"text-input",placeholder:"Enter Colleague Email id",__source:{fileName:T,lineNumber:61}}),c.a.createElement(y.a,{color:"muted",__source:{fileName:T,lineNumber:62}},"Your colleague will be sent an invitation link on his mail.")),c.a.createElement(C.a,{md:"3",__source:{fileName:T,lineNumber:64}},c.a.createElement(k.a,{className:"primary",onClick:function(a){a.preventDefault();var t={to:S.a,data:S.b.methods.inviteUser(r).encodeABI()},n=sessionStorage.getItem("privateKey");t.gasLimit=2e6,x.a.eth.accounts.signTransaction(t,n).then(function(a){var t,n;x.a.eth.sendSignedTransaction(a.rawTransaction).on("confirmation",(n=E()(d.a.mark(function a(t,n){return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:1==t&&1==n.status&&g.a.post("https://www.iotconekt.com/api/dashboard/inviteColleague",{inviteEmail:r}).then(function(a){"Invitation sent successsfully"==a.data.status&&(i(""),e.onColleagueFormSubmit(a.data.status))}).catch(function(a){a.response&&e.onColleagueFormSubmit(a.response.data.message)});case 1:case"end":return a.stop()}},a)})),function(e,a){return n.apply(this,arguments)})).on("error",(t=E()(d.a.mark(function e(a){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log(a);case 1:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}))}).catch(function(e){console.log(e)})},__source:{fileName:T,lineNumber:65}},"Invite Colleague")))))},I=t(7),F=t(13),U=(t(366),t(47)),A=t(46),D=t(67),K=t(121),J=t(53),P=(t(361),t(189)),q=t(52),z="/Users/mac/Desktop/projects/Consortium/src/views/People/People.jsx",B=function(e){var a=Object(l.useState)([]),t=n()(a,2),r=t[0],i=t[1],s=Object(l.useState)(!1),o=n()(s,2),u=o[0],N=o[1],b=Object(l.useState)(""),d=n()(b,2),p=d[0],E=d[1];Object(l.useEffect)(function(){S.b.methods.getAllUsers().call({from:e.auth.user.publicKey}).then(function(e){i(e)})},[]);var h=e.classes,g=[];return r.forEach(function(e){g.push(c.a.createElement(I.a,{xs:12,sm:6,md:3,__source:{fileName:z,lineNumber:61}},c.a.createElement(U.a,{__source:{fileName:z,lineNumber:62}},c.a.createElement(A.a,{color:"danger",stats:!0,icon:!0,__source:{fileName:z,lineNumber:63}},c.a.createElement(K.a,{color:"danger",__source:{fileName:z,lineNumber:64}},c.a.createElement(m.a,{__source:{fileName:z,lineNumber:65}},"apps")),c.a.createElement("p",{className:h.cardCategory,__source:{fileName:z,lineNumber:67}},e.publicKey),c.a.createElement("h4",{className:h.cardTitle,__source:{fileName:z,lineNumber:68}})),c.a.createElement(D.a,{__source:{fileName:z,lineNumber:70}},e.email),c.a.createElement(J.a,{stats:!0,__source:{fileName:z,lineNumber:73}},c.a.createElement("div",{className:h.stats,__source:{fileName:z,lineNumber:74}},c.a.createElement(f.a,{__source:{fileName:z,lineNumber:75}}),"Add to a consortium")))))}),c.a.createElement("div",{__source:{fileName:z,lineNumber:85}},c.a.createElement(F.a,{__source:{fileName:z,lineNumber:86}},g,c.a.createElement(I.a,{xs:12,sm:6,md:3,__source:{fileName:z,lineNumber:88}},"1"===e.user.user[5]&&c.a.createElement(U.a,{onClick:function(){N(!0)},__source:{fileName:z,lineNumber:89}},c.a.createElement(A.a,{color:"danger",stats:!0,icon:!0,__source:{fileName:z,lineNumber:90}},c.a.createElement(K.a,{color:"danger",__source:{fileName:z,lineNumber:91}},c.a.createElement(m.a,{__source:{fileName:z,lineNumber:92}},"add")),c.a.createElement("p",{className:h.cardCategory,__source:{fileName:z,lineNumber:94}}),c.a.createElement("h4",{className:h.cardTitle,__source:{fileName:z,lineNumber:95}},"Invite a colleague"))))),p,u&&c.a.createElement(O,{onColleagueFormSubmit:function(e){E(c.a.createElement(_.a,{__source:{fileName:z,lineNumber:47}},e)),setTimeout(function(){E("")}.bind(void 0),3e3)},__source:{fileName:z,lineNumber:101}}))};B.propTypes={classes:s.a.object.isRequired};a.default=Object(q.connect)(function(e){return{auth:e.auth,errors:e.errors,user:e.user}})(u()(P.a)(B))}}]);